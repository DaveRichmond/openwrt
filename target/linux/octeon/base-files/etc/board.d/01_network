#
# Copyright (C) 2014-2015 OpenWrt.org
#

. /lib/functions/uci-defaults.sh

board_config_update

case "$(board_name)" in
itus,shield-router|\
ubnt,usg)
	ucidef_set_interfaces_lan_wan "eth1 eth2" "eth0"
	;;
ubnt,edgerouter-4)
	ucidef_set_interfaces_lan_wan "lan1 lan2 lan3" "lan0"
	;;
ubnt,edgerouter-6p)
	ucidef_set_interfaces_lan_wan "lan1 lan2 lan3 lan4 lan5" "lan0"
	;;
cisco,vedge1000)
	ucidef_set_interfaces_lan_wan "mgmt0" "lan0"
	;;
xirrus,x2-120)
	ucidef_set_interfaces_lan_wan "eth1" "eth0"
	# allow admin on wan for testing
	uci add firewall wan_https_allow
	uci set firewall.wan_https_allow=rule
	uci set firewall.wan_https_allow.name='Allow Luci from WAN'
	uci set firewall.wan_https_allow.src='wan'
	uci set firewall.wan_https_allow.proto='tcp'
	uci set firewall.wan_https_allow.dest_port='80 443'
	uci set firewall.wan_https_allow.target='ACCEPT'
	;;
*)
	ucidef_set_interfaces_lan_wan "eth0" "eth1"
	;;
esac

board_config_flush

exit 0
